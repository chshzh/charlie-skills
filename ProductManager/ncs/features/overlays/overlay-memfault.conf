# Memfault Configuration
# Cloud-based device monitoring and debugging

# Memfault SDK
CONFIG_MEMFAULT=y
CONFIG_MEMFAULT_SHELL=y
CONFIG_MEMFAULT_HTTP_ENABLE=y
CONFIG_MEMFAULT_ROOT_CERT_STORAGE_NRF9160_MODEM=n

# Memfault Features
CONFIG_MEMFAULT_COREDUMP_COLLECT_BSS_REGIONS=y
CONFIG_MEMFAULT_COREDUMP_COLLECT_DATA_REGIONS=y
CONFIG_MEMFAULT_LOGGING_ENABLE=y
CONFIG_MEMFAULT_LOG_LEVEL_INF=y
CONFIG_MEMFAULT_METRICS=y
CONFIG_MEMFAULT_METRICS_DEFAULT_SET_ENABLE=y

# Event Storage
CONFIG_MEMFAULT_EVENT_STORAGE_SIZE=2048
CONFIG_MEMFAULT_COREDUMP_STORAGE_MAX_SIZE_KB=64

# HTTP Client (for data upload)
CONFIG_HTTP_CLIENT=y
CONFIG_NET_TCP=y
CONFIG_NET_SOCKETS=y
CONFIG_POSIX_API=y

# TLS for HTTPS
CONFIG_MBEDTLS=y
CONFIG_MBEDTLS_BUILTIN=y
CONFIG_MBEDTLS_ENABLE_HEAP=y
CONFIG_MBEDTLS_HEAP_SIZE=40960

# DNS (for cloud connectivity)
CONFIG_DNS_RESOLVER=y

# Flash Storage for Coredumps
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_STREAM_FLASH=y
CONFIG_NVS=y

# Debugging Information
CONFIG_DEBUG=y
CONFIG_DEBUG_INFO=y
CONFIG_THREAD_NAME=y
CONFIG_THREAD_STACK_INFO=y
CONFIG_THREAD_RUNTIME_STATS=y

# Shell (for Memfault commands)
CONFIG_SHELL=y

# Memory (Memfault needs significant heap)
CONFIG_HEAP_MEM_POOL_SIZE=98304
CONFIG_MAIN_STACK_SIZE=4096

# IMPORTANT: Set your Memfault project key
# CONFIG_MEMFAULT_NCS_PROJECT_KEY="YOUR_PROJECT_KEY_HERE"
